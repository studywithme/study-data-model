# 3-2. 데이터 구성도, 전체 데이터를 한눈에 조망하기 🗺️

## 📖 학습 목표
- 데이터 구성도의 개념과 중요성 이해
- 효과적인 데이터 구성도 작성 방법 학습
- 구성도를 통한 전체 시스템 파악 능력 향상

## 🎯 데이터 구성도란?

### 정의
**데이터 구성도**는 시스템의 전체 데이터 구조를 한눈에 파악할 수 있도록 
핵심 엔티티와 관계를 요약하여 표현한 고수준 다이어그램입니다.

### 지도와의 비유
```
지도의 역할          데이터 구성도의 역할
─────────────────  ─────────────────
전체 지형 파악  →   전체 데이터 구조 파악
주요 도시 표시  →   핵심 엔티티 표시
도로 연결 표시  →   주요 관계 표시
목적지 찾기     →   필요한 데이터 위치 파악
```

## 🔍 데이터 구성도의 특징

### 1. 고수준 관점 (High-Level View)
```
포함 요소:
✅ 핵심 엔티티 (10-15개 내외)
✅ 주요 관계 (1:1, 1:N, M:N)
✅ 데이터 흐름의 방향성
✅ 업무 영역별 그룹핑

제외 요소:
❌ 상세 속성 정보
❌ 모든 제약조건
❌ 인덱스 정보
❌ 물리적 구현 세부사항
```

### 2. 비즈니스 중심 (Business-Oriented)
```
비즈니스 관점에서 표현:
- 업무 프로세스 흐름 반영
- 핵심 업무 객체 중심
- 사용자가 이해하기 쉬운 용어
- 업무 영역별 색상 구분
```##
# 3. 의사소통 도구 (Communication Tool)
```
활용 목적:
- 이해관계자 간 공통 이해 형성
- 프로젝트 범위 및 복잡도 파악
- 시스템 간 연계 지점 식별
- 개발 우선순위 결정 지원
```

## 📊 데이터 구성도 작성 방법

### 1단계: 핵심 엔티티 식별

#### 선정 기준
```
핵심 엔티티 판단 기준:
1. 비즈니스 핵심 객체인가?
2. 다른 엔티티와 많은 관계를 가지는가?
3. 대용량 데이터를 가지는가?
4. 업무 프로세스의 중심인가?
5. 시스템 간 연계의 핵심인가?
```

#### 온라인 쇼핑몰 예시
```
핵심 엔티티 (우선순위 순):
1. 고객 - 모든 업무의 중심
2. 상품 - 판매의 핵심 객체
3. 주문 - 비즈니스 프로세스의 핵심
4. 결제 - 수익 창출의 핵심
5. 배송 - 고객 만족의 핵심
6. 카테고리 - 상품 분류의 기준
7. 리뷰 - 고객 피드백의 핵심
```

### 2단계: 관계 정의

#### 관계 유형별 표현
```
1:1 관계 (일대일):
고객 ─── 고객상세정보
표현: 실선 + 1:1 표기

1:N 관계 (일대다):
고객 ──< 주문
표현: 실선 + 1:N 표기

M:N 관계 (다대다):
상품 >──< 카테고리
표현: 점선 + M:N 표기 (연결 테이블 생략)
```

#### 관계 강도 표현
```
강한 관계 (필수):
주문 ──■ 고객 (주문은 반드시 고객이 있어야 함)

약한 관계 (선택):
고객 ──○ 리뷰 (고객이 리뷰를 안 쓸 수도 있음)
```

### 3단계: 업무 영역별 그룹핑

#### 영역 분류 예시
```
고객 관리 영역 (파란색):
- 고객, 고객등급, 적립금

상품 관리 영역 (초록색):
- 상품, 카테고리, 재고

주문 처리 영역 (주황색):
- 주문, 주문상세, 장바구니

결제/배송 영역 (빨간색):
- 결제, 배송, 배송지

고객 서비스 영역 (보라색):
- 리뷰, 문의, 공지사항
```

## 🎨 구성도 표현 기법

### 1. 레이아웃 설계

#### 계층적 배치
```
상위 레벨 (마스터 데이터):
┌─────────┐  ┌─────────┐
│  고객   │  │  상품   │
└─────────┘  └─────────┘
      │           │
      ▼           ▼
중간 레벨 (트랜잭션 데이터):
┌─────────────────────┐
│       주문          │
└─────────────────────┘
      │
      ▼
하위 레벨 (상세 데이터):
┌─────────┐  ┌─────────┐
│ 주문상세 │  │  결제   │
└─────────┘  └─────────┘
```

#### 프로세스 흐름 배치
```
좌측에서 우측으로 업무 흐름 표현:

고객 → 상품조회 → 장바구니 → 주문 → 결제 → 배송
 │        │         │       │      │      │
 ▼        ▼         ▼       ▼      ▼      ▼
고객     상품      장바구니   주문   결제   배송
정보     카탈로그   관리     처리   처리   추적
```

### 2. 시각적 표현 기법

#### 색상 활용
```css
/* 업무 영역별 색상 */
.customer-area { background-color: #E3F2FD; }    /* 연한 파랑 */
.product-area  { background-color: #E8F5E8; }    /* 연한 초록 */
.order-area    { background-color: #FFF3E0; }    /* 연한 주황 */
.payment-area  { background-color: #FFEBEE; }    /* 연한 빨강 */
.service-area  { background-color: #F3E5F5; }    /* 연한 보라 */
```

#### 아이콘 활용
```
👤 고객 관련 엔티티
📦 상품 관련 엔티티  
🛒 주문 관련 엔티티
💳 결제 관련 엔티티
🚚 배송 관련 엔티티
⭐ 평가 관련 엔티티
```

## 📋 구성도 작성 실습

### 실습: 온라인 교육 플랫폼

#### 요구사항
```
업무 개요:
- 강사가 강의를 등록하고 학생이 수강
- 학습 진도 추적 및 평가 관리
- 결제 및 수료증 발급
- 질의응답 및 커뮤니티 기능
```

#### 1단계: 핵심 엔티티 식별
```
핵심 엔티티:
1. 회원 (강사, 학생 통합)
2. 강의
3. 강의차시 (강의의 세부 내용)
4. 수강신청
5. 학습진도
6. 평가
7. 결제
8. 수료증
9. 질의응답
10. 공지사항
```

#### 2단계: 관계 정의
```
주요 관계:
회원 1:N 강의 (강사가 여러 강의 개설)
회원 1:N 수강신청 (학생이 여러 강의 수강)
강의 1:N 강의차시
강의 1:N 수강신청
수강신청 1:N 학습진도
수강신청 1:N 평가
수강신청 1:N 결제
수강신청 1:1 수료증
강의 1:N 질의응답
```

#### 3단계: 영역별 그룹핑
```
회원 관리 영역:
- 회원, 회원등급

강의 관리 영역:
- 강의, 강의차시, 카테고리

학습 관리 영역:
- 수강신청, 학습진도, 평가

결제/수료 영역:
- 결제, 수료증

커뮤니티 영역:
- 질의응답, 공지사항
```

## 💡 구성도 활용 방안

### 1. 프로젝트 관리
```
활용 목적:
- 개발 범위 명확화
- 우선순위 결정 지원
- 리소스 배분 계획
- 일정 수립 기준

예시:
1차: 핵심 엔티티 (회원, 강의, 수강신청)
2차: 학습 관리 (진도, 평가)
3차: 부가 기능 (커뮤니티, 수료증)
```

### 2. 시스템 연계 설계
```
연계 지점 식별:
- 외부 결제 시스템 ↔ 결제 엔티티
- 동영상 플랫폼 ↔ 강의차시 엔티티
- 이메일 시스템 ↔ 회원 엔티티
- SMS 시스템 ↔ 회원 엔티티
```

### 3. 성능 최적화 계획
```
성능 고려 대상:
- 대용량 예상 엔티티: 학습진도, 평가
- 실시간 처리 필요: 결제, 수강신청
- 복잡한 조회 패턴: 강의 검색, 진도 조회
```

## 🎯 체크리스트: 좋은 데이터 구성도인가?

### 완성도 측면
- [ ] 핵심 엔티티가 모두 포함되었는가?
- [ ] 주요 관계가 정확히 표현되었는가?
- [ ] 업무 흐름이 반영되었는가?
- [ ] 빠진 업무 영역은 없는가?

### 가독성 측면
- [ ] 한눈에 이해하기 쉬운가?
- [ ] 색상과 레이아웃이 적절한가?
- [ ] 너무 복잡하지 않은가?
- [ ] 비즈니스 용어를 사용했는가?

### 활용성 측면
- [ ] 이해관계자 소통에 도움이 되는가?
- [ ] 개발 계획 수립에 활용 가능한가?
- [ ] 시스템 연계 지점이 명확한가?
- [ ] 향후 확장 방향을 제시하는가?

---

**다음**: [3-3. PK, 데이터 구조를 지배하는 마스터키](./03-primary-key.md)